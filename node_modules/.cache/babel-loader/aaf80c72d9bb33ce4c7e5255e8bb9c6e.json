{"ast":null,"code":"import _slicedToArray from\"/Users/yousefgadban/Documents/bootcamp/bank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{GetAllAction,TransferCash,DeleteUser,TransferFromManager,UpdateUserStatus}from'../api/api';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserCard=function UserCard(_ref){var user=_ref.user,onDeleteUser=_ref.onDeleteUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allActions=_useState2[0],setAllActions=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentAmount=_useState4[0],setCurrentAmount=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),amountToTransfer=_useState6[0],setAmountToTransfer=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];useEffect(function(){setCurrentAmount(user.balance);setStatus(user.isActive);},[]);var onTransferClicked=function onTransferClicked(){console.log('onTransferClicked ',amountToTransfer);if(+amountToTransfer>0){var params={userId:user._id,amount:+amountToTransfer,isWithDrawal:false,toAccount:user.accountNumber,using:\"Money From manager\"};TransferFromManager(params).then(function(response){var actionResponse=response.data;console.log(actionResponse);if(response.status===201){setCurrentAmount(function(prevAmount){return prevAmount+ +amountToTransfer;});}else{if(actionResponse.data==='unactive user'){console.log(\"UnActive account\");toast.info(\"UnActive account\");}else{console.log('somthing wrong, try again later');}}});}else{console.log('cant transfer zero or less');}};var onActiveClicked=function onActiveClicked(){console.log('onActiveClicked',user._id);UpdateUserStatus(user._id).then(function(response){var actionResponse=response.data;console.log(actionResponse);if(response.status===200){setStatus(!status);}else{console.log('somthing wrong, try again later');}});};var onDeleteUserClicked=function onDeleteUserClicked(){console.log('onDeleteUserClicked ',user._id);DeleteUser(user._id).then(function(response){var actionResponse=response.data;console.log(actionResponse);if(response.status===200){onDeleteUser(user._id);}else{console.log('somthing wrong, try again later');}});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #333',borderRadius:'12px',margin:'10px',width:'350px',padding:'10px',display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'space-around'},children:[/*#__PURE__*/_jsx(\"img\",{className:\"account-profile-img\",alt:\"\",src:user.avatar,style:{width:'100px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Active/unActive\",onClick:function onClick(e){onActiveClicked();},style:{backgroundColor:'#2196f3',border:'1px solid #2196f3',color:'white',borderRadius:'5px',height:'30px',width:'100px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Delete\",onClick:function onClick(e){onDeleteUserClicked();},style:{backgroundColor:'#d14c47',border:'1px solid #d14c47',color:'white',borderRadius:'5px',height:'30px',width:'100px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'space-around'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome: \",/*#__PURE__*/_jsx(\"span\",{children:user.name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Account Number: \",/*#__PURE__*/_jsx(\"span\",{children:user.accountNumber})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Balance: \",/*#__PURE__*/_jsxs(\"span\",{children:[currentAmount,\" \\u20AA\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" isActive: \",/*#__PURE__*/_jsx(\"span\",{children:status?'active':'unactive'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){setAmountToTransfer(e.target.value);},style:{height:'30px',width:'70px',backgroundClip:'white',borderRadius:'4px',border:'1px solid #2196f3'}}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Transfer\",onClick:function onClick(e){onTransferClicked();},style:{backgroundColor:'#2196f3',border:'1px solid #2196f3',color:'white',borderRadius:'5px',height:'30px',width:'100px'}})]}),/*#__PURE__*/_jsx(ToastContainer,{})]})]})});};","map":{"version":3,"sources":["/Users/yousefgadban/Documents/bootcamp/bank/src/manager/UserCard.js"],"names":["React","useEffect","useState","GetAllAction","TransferCash","DeleteUser","TransferFromManager","UpdateUserStatus","ToastContainer","toast","UserCard","user","onDeleteUser","allActions","setAllActions","currentAmount","setCurrentAmount","amountToTransfer","setAmountToTransfer","status","setStatus","balance","isActive","onTransferClicked","console","log","params","userId","_id","amount","isWithDrawal","toAccount","accountNumber","using","then","response","actionResponse","data","prevAmount","info","onActiveClicked","onDeleteUserClicked","border","borderRadius","margin","width","padding","display","alignItems","flexDirection","justifyContent","avatar","e","backgroundColor","color","height","name","target","value","backgroundClip"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {  GetAllAction, TransferCash, DeleteUser, TransferFromManager, UpdateUserStatus } from '../api/api'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport const UserCard = ({user, onDeleteUser}) => {\n\n    const [allActions, setAllActions] = useState([]);\n    const [currentAmount, setCurrentAmount] = useState(0);\n    const [amountToTransfer, setAmountToTransfer] = useState(0);\n    const [status, setStatus] = useState(false);\n\n    useEffect(()=> {\n\n        setCurrentAmount(user.balance)\n        setStatus(user.isActive)\n     \n    }, []);\n\n\n\n    const onTransferClicked = () => {\n        console.log('onTransferClicked ', amountToTransfer);\n\n        if (+amountToTransfer > 0) {\n\n            let params = {\n                userId: user._id,\n                amount: +amountToTransfer,\n                isWithDrawal: false,\n                toAccount: user.accountNumber,\n                using: `Money From manager` \n            }   \n            \n            TransferFromManager(params).then((response)=>{\n                let actionResponse = response.data;\n                console.log(actionResponse);\n                if (response.status === 201) {\n                    setCurrentAmount((prevAmount) => prevAmount + +amountToTransfer);\n                } else {\n                    if (actionResponse.data === 'unactive user') {\n                        console.log(\"UnActive account\");\n                        toast.info(\"UnActive account\");\n                    } else {\n                        console.log('somthing wrong, try again later');\n                    }\n                }\n            });\n        } else {\n            console.log('cant transfer zero or less');\n        }\n\n    }\n\n    const onActiveClicked = () => {\n        console.log('onActiveClicked', user._id);\n\n        UpdateUserStatus(user._id).then((response)=>{\n            let actionResponse = response.data;\n            console.log(actionResponse);\n            if (response.status === 200) {\n                setStatus(!status)\n            } else {\n                console.log('somthing wrong, try again later');\n            }\n        });\n    }\n\n    const onDeleteUserClicked = () => {\n        console.log('onDeleteUserClicked ', user._id);\n\n        DeleteUser(user._id).then((response)=>{\n            let actionResponse = response.data;\n            console.log(actionResponse);\n            if (response.status === 200) {\n                onDeleteUser(user._id)\n            } else {\n                console.log('somthing wrong, try again later');\n            }\n        });\n    }\n\n    return (\n        <div>\n             <div style={{border: '1px solid #333', borderRadius: '12px', margin: '10px', width: '350px', padding: '10px', display: 'flex', alignItems: 'center'}}>\n                \n                <div style={{display:'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'space-around'}}>\n                    <img className=\"account-profile-img\" alt=\"\" src={ user.avatar } style={{width: '100px'}} />\n                    <input \n                        type='button' \n                        value='Active/unActive' \n                        onClick={(e)=>{onActiveClicked()}}\n                        style={{backgroundColor: '#2196f3', border: '1px solid #2196f3', color: 'white', borderRadius: '5px', height: '30px', width: '100px'}} />\n                    <input \n                        type='button' \n                        value='Delete'  \n                        onClick={(e)=>{onDeleteUserClicked()}}\n                        style={{backgroundColor: '#d14c47', border: '1px solid #d14c47', color: 'white', borderRadius: '5px', height: '30px', width: '100px'}} />\n\n                </div>\n                \n                <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'space-around'}}>\n                    <p>Welcome: <span>{user.name }</span></p>\n                    <p>Account Number: <span>{user.accountNumber}</span></p>\n                    <p>Balance: <span>{currentAmount} &#8362;</span></p>\n                    <p> isActive: <span>{status ? 'active' : 'unactive'}</span></p>\n                    <div style={{display: 'flex', alignItems: 'center'}}>\n                        <input \n                            type='number' \n                            onChange={(e) => {setAmountToTransfer(e.target.value)}}\n                            style={{height: '30px', width: '70px', backgroundClip: 'white', borderRadius: '4px', border: '1px solid #2196f3'}} />\n                        <input \n                            type='button' \n                            value='Transfer' \n                            onClick={(e)=>{onTransferClicked()}}\n                            style={{backgroundColor: '#2196f3', border: '1px solid #2196f3', color: 'white', borderRadius: '5px', height: '30px', width: '100px'}} />\n                           \n                    </div>\n                    <ToastContainer />\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}