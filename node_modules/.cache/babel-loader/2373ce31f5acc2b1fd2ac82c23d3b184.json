{"ast":null,"code":"import _slicedToArray from\"/Users/yousefgadban/Documents/bootcamp/bank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{GetAllUsers,GetFilteredUsers}from'../api/api';import{UserCard}from\"./UserCard\";import'../App.css';import Spinner from\"../Spinner/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Manager=function Manager(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allUsers=_useState2[0],setAllUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showLoader=_useState4[0],setShowLoader=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),filterValue=_useState6[0],setFilterValue=_useState6[1];var _useState7=useState('equal'),_useState8=_slicedToArray(_useState7,2),filter=_useState8[0],setFilter=_useState8[1];useEffect(function(){setShowLoader(true);GetAllUsers().then(function(response){var allUsers=response.data.data;console.log('allUsers',allUsers);setShowLoader(false);setAllUsers(allUsers);});},[]);var onDeleteUser=function onDeleteUser(deleteId){console.log('manager onDeleteUser ',deleteId);var updated=allUsers.filter(function(user){return user._id!==deleteId;});setAllUsers(updated);};var onselectionchange=function onselectionchange(e){console.log('onselectionchange',e.target.value);setFilter(e.target.value);};var onFilterClicked=function onFilterClicked(){console.log('onFilterClicked',filter,filterValue);setShowLoader(true);var params={filter:filter,filterValue:filterValue};GetFilteredUsers(params).then(function(response){var filteredUsers=response.data.data;console.log('filteredUsers',filteredUsers);setShowLoader(false);setAllUsers(filteredUsers);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:showLoader?'flex':'none',alignItems:'center',justifyContent:'center',width:'100%',height:'92vh'},children:/*#__PURE__*/_jsx(Spinner,{message:\"Loading...\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:!showLoader?'flex':'none',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"filter\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{name:\"filter\",id:\"filter\",onChange:function onChange(e){onselectionchange(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"equal\",children:\"Equal to\"}),/*#__PURE__*/_jsx(\"option\",{value:\"greater\",children:\"Greater than\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lesser\",children:\"Less than\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:filterValue,onChange:function onChange(e){setFilterValue(e.target.value);},style:{height:'30px',width:'70px',backgroundClip:'white',borderRadius:'4px',border:'1px solid #2196f3'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"filter\",onClick:function onClick(){onFilterClicked();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"manager-grid\",children:allUsers.map(function(user){return/*#__PURE__*/_jsx(UserCard,{user:user,onDeleteUser:onDeleteUser},user.id);})})]})]});};","map":{"version":3,"sources":["/Users/yousefgadban/Documents/bootcamp/bank/src/manager/Manager.js"],"names":["React","useEffect","useState","GetAllUsers","GetFilteredUsers","UserCard","Spinner","Manager","allUsers","setAllUsers","showLoader","setShowLoader","filterValue","setFilterValue","filter","setFilter","then","response","data","console","log","onDeleteUser","deleteId","updated","user","_id","onselectionchange","e","target","value","onFilterClicked","params","filteredUsers","display","alignItems","justifyContent","width","height","flexDirection","backgroundClip","borderRadius","border","map","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { GetAllUsers, GetFilteredUsers } from '../api/api'\nimport { UserCard } from \"./UserCard\";\nimport '../App.css'\nimport Spinner from \"../Spinner/Spinner\";\n\nexport const Manager = () => {\n\n    const [allUsers, setAllUsers] = useState([]);\n    const [showLoader, setShowLoader] = useState(false);\n    const [filterValue, setFilterValue] = useState(0);\n    const [filter, setFilter] = useState('equal');\n\n    useEffect(()=> {\n        setShowLoader(true);\n        GetAllUsers().then((response)=>{\n            let allUsers = response.data.data;\n            console.log('allUsers', allUsers);\n            setShowLoader(false);\n            setAllUsers(allUsers);\n\n        });\n    }, []);\n\n    const onDeleteUser= (deleteId) => {\n        console.log('manager onDeleteUser ', deleteId);\n        let updated = allUsers.filter((user) => {\n            return user._id !== deleteId;\n        })\n        setAllUsers(updated);\n    }\n\n\n    const onselectionchange = (e) => {\n        console.log('onselectionchange', e.target.value);\n        setFilter(e.target.value);\n    }\n\n    const onFilterClicked = () => {\n        console.log('onFilterClicked', filter, filterValue);\n        setShowLoader(true);\n\n        let params = {\n            filter: filter,\n            filterValue: filterValue\n        }\n        GetFilteredUsers(params).then((response)=>{\n            let filteredUsers = response.data.data;\n            console.log('filteredUsers', filteredUsers);\n            setShowLoader(false);\n            setAllUsers(filteredUsers);\n\n        });\n    }\n\n   \n    return (\n        <div>\n            <div style={{display: showLoader ? 'flex': 'none', alignItems: 'center', justifyContent: 'center', width: '100%', height: '92vh'}}>\n                <Spinner message=\"Loading...\"/>\n            </div>\n            <div style={{display: !showLoader ? 'flex': 'none', flexDirection: 'column', alignItems: 'center', justifyContent: 'center'}}>\n                <div>\n                <label >filter</label> <br />\n                    <select name=\"filter\" id=\"filter\" onChange={(e) => {onselectionchange(e)}}>\n                        <option value=\"equal\">Equal to</option>\n                        <option value=\"greater\">Greater than</option>\n                        <option value=\"lesser\">Less than</option>\n                    </select>\n                    <input\n                        type='number' \n                        value={filterValue}\n                        onChange={(e) => {setFilterValue(e.target.value)}}\n                        style={{height: '30px', width: '70px', backgroundClip: 'white', borderRadius: '4px', border: '1px solid #2196f3'}} />\n                        <br />\n                    <input type='button' value='filter' onClick={() => {onFilterClicked()}} />\n                </div>\n                <div className=\"manager-grid\" >\n                    {allUsers.map((user) => {\n                        return <UserCard key={user.id} user={user} onDeleteUser={onDeleteUser} />\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}