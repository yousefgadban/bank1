{"ast":null,"code":"import _slicedToArray from\"/Users/yousefgadban/Documents/bootcamp/bank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"../Login/login.css\";import{useHistory}from'react-router-dom';import{AddNewUser}from'../api/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var updateHeader=_ref.updateHeader;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];useEffect(function(){},[]);var onLoginClick=function onLoginClick(){console.log('onLoginClick ',name,email,password);if(!validateEmail(email)||password.trim().length<6||name.trim().length<6){console.log('invalid input');}else{console.log('start register ');var params={name:name,email:email,password:password};AddNewUser(params).then(function(response){var actionResponse=response.data;console.log(actionResponse);if(response.status===201){updateHeader(1);history.push(\"/account/\".concat(actionResponse.data._id,\"/\",'123'));}else{alert('Something went wrong... sorry');}});}};var validateEmail=function validateEmail(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase());};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Name\",id:\"name\",name:\"name\",onChange:function onChange(e){setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Name\",id:\"email\",name:\"email\",onChange:function onChange(e){setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"********\",id:\"password\",name:\"password\",onChange:function onChange(e){setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"\",id:\"remember\"}),\"Remember me\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"action\",children:/*#__PURE__*/_jsx(\"button\",{id:\"btn\",className:\"btn\",onClick:function onClick(){onLoginClick();},children:\"Register\"})})]})});};export default Register;","map":{"version":3,"sources":["/Users/yousefgadban/Documents/bootcamp/bank/src/register/register.js"],"names":["React","useState","useEffect","useHistory","AddNewUser","Register","updateHeader","history","name","setName","email","setEmail","password","setPassword","onLoginClick","console","log","validateEmail","trim","length","params","then","response","actionResponse","data","status","push","_id","alert","re","test","String","toLowerCase","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport \"../Login/login.css\";\nimport {  useHistory  } from 'react-router-dom';\nimport {  AddNewUser } from '../api/api'\n\n const Register = ({updateHeader})=> {\n\n    const history = useHistory();\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    useEffect(()=>{\n        \n        \n    }, [])\n\n\n    const onLoginClick = () => {\n        console.log('onLoginClick ',name, email, password);\n\n        if (!validateEmail(email) || password.trim().length < 6 || name.trim().length < 6) {\n            console.log('invalid input');\n        } else {\n            console.log('start register ');\n\n            let params = {\n                name: name,\n                email: email,\n                password: password\n            }\n\n            AddNewUser(params).then((response)=>{\n                let actionResponse = response.data;\n                console.log(actionResponse);\n                if (response.status === 201) {\n                    updateHeader(1)\n                    history.push(`/account/${actionResponse.data._id}/${'123'}`);\n                } else {\n                    alert('Something went wrong... sorry');\n                }\n            });\n\n        }\n\n    }\n\n    const validateEmail = (email) => {\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(String(email).toLowerCase());\n    }\n\n\n    return(\n    <div className=\"container\">\n        <div className=\"form\">\n         <div className=\"input-field\">\n              <label >Name</label>\n              <input \n                type=\"text\" \n                placeholder=\"User Name\" \n                id=\"name\" \n                name=\"name\"\n                onChange={(e) => {setName(e.target.value)}}/>\n          </div>\n          <div className=\"input-field\">\n              <label >Email</label>\n              <input \n                type=\"text\" \n                placeholder=\"User Name\" \n                id=\"email\" \n                name=\"email\"\n                onChange={(e) => {setEmail(e.target.value)}}/>\n          </div>\n        <div className=\"input-field\">\n           <label >Password</label>\n           <input \n                type=\"password\" \n                placeholder=\"********\" \n                id=\"password\" \n                name=\"password\"\n                onChange={(e) => {setPassword(e.target.value)}}/>\n       </div>\n       <div className=\"input-field\">\n            <label >\n                 <input type=\"checkbox\" name=\"\" id=\"remember\"/>Remember me\n           </label>\n       </div>\n       <div className=\"action\">\n             <button id=\"btn\" className=\"btn\" onClick={()=> {onLoginClick()}}>Register</button>\n           </div>\n         </div>\n        </div>\n    )\n}\nexport default Register ;"]},"metadata":{},"sourceType":"module"}